ADDRESS_AND_FRAUD:
  entryEvents:
    next:
      targetState: CRI_ADDRESS
  subJourneyStates:
    CRI_ADDRESS:
      response:
        type: cri
        criId: address
      parent: CRI_STATE
      events:
        next:
          targetState: CRI_FRAUD
    CRI_FRAUD:
      response:
        type: cri
        criId: fraud
      parent: CRI_STATE
      events:
        next:
          exitEventToEmit: next

A_LONG_NESTED_JOURNEY:
  entryEvents:
    drivingLicence:
      targetState: CRI_ADDRESS
  subJourneyStates:
    CRI_ADDRESS:
      response:
        type: cri
        criId: address
      parent: CRI_STATE
      events:
        next:
          targetState: CRI_FRAUD
    CRI_FRAUD:
      response:
        type: cri
        criId: fraud
      parent: CRI_STATE
      events:
        next:
          targetState: NESTED_DOWN_AGAIN
    NESTED_DOWN_AGAIN:
      subJourney: DOWN_AGAIN
      exitEvents:
        next:
          targetState: CRI_PASSPORT
    CRI_PASSPORT:
      response:
        type: cri
        criId: ukPassport
      parent: CRI_STATE
      events:
        next:
          targetState: CRI_DRIVING_LICENSE
    CRI_DRIVING_LICENSE:
      response:
        type: cri
        criId: drivingLicence
      parent: CRI_STATE
      events:
        next:
          exitEventToEmit: next

DOWN_AGAIN:
  entryEvents:
    next:
      targetState: CRI_ADDRESS
  subJourneyStates:
    CRI_ADDRESS:
      response:
        type: cri
        criId: address
      parent: CRI_STATE
      events:
        next:
          targetState: ADDRESS_AND_FRAUD
    ADDRESS_AND_FRAUD:
      subJourney: ADDRESS_AND_FRAUD
      exitEvents:
        next:
          targetState: CRI_FRAUD
    CRI_FRAUD:
      response:
        type: cri
        criId: fraud
      parent: CRI_STATE
      events:
        next:
          exitEventToEmit: next
